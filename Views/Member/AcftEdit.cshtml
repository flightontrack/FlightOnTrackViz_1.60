@model FontNameSpace.Models.vAircraftPilot

@{
    int menuitem = 2;
    ViewBag.Title = "AcftEdit";
    var successFlg = ViewBag.successFlg;
    string msg = ViewBag.Msg;
    //int pid = ViewBag.PilotId;
}


    <div class="row">
    @*@Html.Partial("_MemberMenu", new { menuitem = menuitem })*@
    <br>
        <div class="col-sm-10">
                <div class="panel">
                    <ul>
                        <li>[FAA Reg Number] section is populated if the aircraft is found in the FAA registry.</li>

                        <li>Update your aircraft information and click <div class="code_ms">Save Changes</div> button.</li>
                        </ul>
                </div>
            <form method="POST" role="form" class="form-horizontal">
                @Html.AntiForgeryToken()
                @Html.HiddenFor(model => model.AcftID)
                @Html.Hidden("menuitem", menuitem)
                <div class="form-group">
                    <label for="AcftNumLocal" class="col-sm-2 control-label">Aircraft</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="AcftNumLocal" name="AcftNumLocal" value="@Model.AcftNumLocal">
                    </div>
                </div>
                <div class="form-group">
                    <label for="AcftName" class="col-sm-2 control-label">Name</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="AcftName" name="AcftName" value="@Model.AcftName">
                    </div>
                    </div>
                    <div class="form-group">
                        <label for="AcftRegNum" class="col-sm-2 control-label">FAA Reg Number</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" id="AcftRegNum" name="AcftRegNum" value="@Model.AcftRegNum" disabled>
                        </div>
                        </div>
                        <div class="form-group">
                            <label for="AcftMake" class="col-sm-2 control-label">Make</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="AcftMake" name="AcftMake" value="@Model.AcftMake" disabled>
                            </div>
                            </div>
                            <div class="form-group">
                                <label for="AcftModel" class="col-sm-2 control-label">Model</label>
                                <div class="col-sm-4">
                                    <input type="text" class="form-control" id="AcftModel" name="AcftModel" value="@Model.AcftModel" disabled>
                                </div>
                                </div>
                                <div class="form-group">
                                    <label for="SerNum" class="col-sm-2 control-label">Serial Number</label>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" id="SerNum" name="SerNum" value="@Model.SerNum" disabled>
                                    </div>
                                </div>
                <div class="form-group">
                    <label for="URLPictures" class="col-sm-2 control-label">Photo URL</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="URLPictures" name="URLPictures" value="@Model.URLPictures">
                    </div>
                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-8">
                                        @*<button type="submit" class="btn btn-default">Save Changes</button>*@
                                        <input type="submit" class="btn btn-default" name="submit" value="Save Changes" />
                                        <input type="submit" class="btn btn-default" name="submit" value="Delete the Aircraft" />
                                    </div>
                                </div>

                <div class="col-sm-offset-1 col-sm-4">
                    @if (successFlg != null)
                    {
                        if ((bool)successFlg)
                        {
                            <div class="text-success"> @msg  </div>
                        }
                        else if (!(bool)successFlg)
                        {
                            <div class="validation-summary-errors text-danger"> @msg  </div>
                        }
                    }
                </div>

            </form>
        </div>
    </div>

    @section scripts{
        <script type="text/javascript">
            window.formChanged = false;
            $(document).ready(function () {
                $(':input').change(function () {
                    //alert("form changed!")
                    window.formChanged = true;
                });

                $('form').submit(function () {
                    //alert("form submitted!")
                    window.formChanged = false;
                    window.onbeforeunload = null;
                });

            });

            $(window).bind('beforeunload', function () {
                if (window.formChanged == true) { alert('You have unsaved changes!'); return false; }
                //else return true;
            });

        </script>
    }


