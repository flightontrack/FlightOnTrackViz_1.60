@model MVC_Acft_Track.Models.LoginModel
@{
    ViewBag.Title = "Home Page";
}
@*@section featured {
    <section class="text-center">
        Member Area
    </section>
}*@
<div class="container">
    <h2>FONT Application</h2>
    <div class="panel-group" id="accordion">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">What is the FONT?</a>
                </h4>
            </div>
            <div id="collapse1" class="panel-collapse collapse">
                <ul>
                    <li><span style="font-weight: bold;">Flight On Track</span> (<span style="font-weight: bold;">FONT</span> in short) is simple but fun application. Fly airplane , glider, trike or hot balloon with it.</li>
                    <li>FONT maintains a detailed history of a pilot's flights in cloud repository making it easy reviewing and sharing.</li>
                    <li>The FONT Android client is designed the way to avoid any destruction when the pilot is flying.</li>
                    <li>You do not need even to create account to start using it. The registration process is automated.</li>
                    <li>The records are owned by the pilot and can be easily accessed via a browser, reviewed, downloaded to a file or shared with other users. Other people can follow you in real time while you are up flying.</li>
                    <li>FONT doesn't add any weight to your aircraft. Just make memories of your flights and share excitement of flying with your friends and family. </li>
                    <li>FONT is free, no need to invest tons of money. All you need is the FONT app installed on your smartphone to start using it right away. More on FONT on @Html.ActionLink("[Help]", "Help", "Home") page.  </li>
                </ul>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">How does it work?</a>
                </h4>
            </div>
            <div id="collapse2" class="panel-collapse collapse">
                <ul>
                    <li>
                        FONT is a near-real-time cloud-based system which tracks aircraft position, velocity and altitude based on the GPS signal received from a pilot's smartphone.
                        Your phone is a sophisticated computer that is always with you. It has an ID uniquely identifying the pilot and a GPS that tracks his flights.
                        The GPS has clear vision of all satellites in the sky, while the phone has unobscured access to ground mobile network. The app installed on a pilot's smartphone transmits information to a remote server when the pilot is flying.
                        A cloud website provides access to the data.
                    </li>
                </ul>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Recent public flights</a>
                </h4>
            </div>
            <div id="collapse3" class="panel-collapse collapse">
                <ul>
                    <li>@Html.ActionLink("[View]", "GetLatestRoutes", "PublicFlights")  most recent flights.</li>
                    <li>@Html.ActionLink("[Search]", "SearchByCriteria", "PublicFlights")  flight history by criteria. </li>
                    <li>@Html.ActionLink("[View]", "SearchByArea", "PublicFlights") area active flights.</li>
                </ul>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse4">My flight history</a>
                </h4>
            </div>
            <div id="collapse4" class="panel-collapse collapse">
                @using (Html.BeginForm("Login", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {
                    <br>
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="form-group">
                        @Html.LabelFor(m => m.UserName, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            <small class="form-text text-muted">@ViewBag.Message</small>
                            @Html.TextBoxFor(m => m.UserName, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.UserName, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.Password, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">

                            @Html.CheckBoxFor(m => m.RememberMe)
                            @Html.LabelFor(m => m.RememberMe, new { @class = "checkbox" })

                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2 col-sm-offset-2">
                            <input type="submit" value="Log in" class="btn btn-default" />
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    <div id="vizContainer">
    </div>
</div>
@section Scripts
{
    <script src="https://public.tableau.com/javascripts/api/tableau-2.1.2.js"></script>
    <script>
        function initializeViz() {

            var containerDiv = document.getElementById("vizContainer");
            var url = "https://public.tableau.com/views/VisualLogBook800x650r/Dashboard2?:embed=y&:display_count=no&:toolbar=no";
            var options = {
                width: "100%",
                height: containerDiv.offsetWidth * 1,
                minHeight: containerDiv.offsetWidth * 0.8,
                maxHeight: containerDiv.offsetWidth * 1.2,
                hideTabs: true,
                hideToolbar: true,
                onFirstInteractive: function () {
                    workbook = viz.getWorkbook();
                    activeSheet = workbook.getActiveSheet();
                }
            }
            viz = new tableau.Viz(containerDiv, url, options);
        }
        $(window).on("load", function () {
            // alert("Window is loaded");
            initializeViz();
        });
    </script>
}