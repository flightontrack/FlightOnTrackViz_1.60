@*@model IEnumerable<MVC_Acft_Track.Models.GpsLocation>*@
@model MVC_Acft_Track.ViewModels.vmFlight

<div class="row">
    <div class="col-sm-4">
        <ul class="list-group">
            <li class="list-group-item active">
                <h4>Flight - @Model.Flightid</h4>
            </li>
            <li class="list-group-item">
                <p class="card-text">Display flight track on Google Maps</p>
                @Html.ActionLink("Display Flight", "DisplayMyFlightMovingMap", new { id = Model.Flightid, FlightOrRoute = "Flight", linkUp = @ViewBag.ActionBack }, new { @class = "btn btn-primary" })
            </li>
            <li class="list-group-item">
                <p class="card-text">Display the whole route on Google Maps</p>
                @Html.ActionLink("Display Route", "DisplayMyFlightMovingMap", new { id = Model.Flightid, FlightOrRoute = "Route", linkUp = @ViewBag.ActionBack }, new { @class = "btn btn-primary" })
            </li>
            <li class="list-group-item">
                <p class="card-text">Download flight data file in CSV format</p>
                @Html.ActionLink("Download CSV", "DownloadFlightCSV", new { id = Model.Flightid }, new { @class = "btn btn-primary" })
            </li>
            <li class="list-group-item">
                <p class="card-text">Download route Google Earth KML file with timeline (3D)</p>
                @Html.ActionLink("Download KML", "DownloadKMLTimeLine", new { id = Model.Flightid }, new { @class = "btn btn-primary" })
            </li>
        </ul>
    </div>
</div>

<div class="row">
            <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Click on collapsible panel to open or close it
                    <div class="panel-title">
                        <a data-toggle="collapse" href="#details"><h3>+ Flight Details</h3></a>
                    </div>
                </div>
                <div id="details" class="panel-collapse collapse">
    <div class="row">
        <div class="col-sm-4">
            <ul class="list-group">
                <li class="list-group-item active"><h4>Flight Parameters</h4></li>
                <li class="list-group-item">Flight:  @Model.FlightName</li>
                @*<li class="list-group-item">Flight GPS Date:  @Model.FlightDate.ToString("d", (new System.Globalization.CultureInfo("ja-JP")).DateTimeFormat) </li>*@
                <li class="list-group-item">Flight GPS Date:  @Model.FlightDate.ToString() </li>
                <li class="list-group-item">Aircraft:  @Model.AcftNum</li>
                <li class="list-group-item">Pilot Callsign:  @Model.FlightPilotName</li>
                <li class="list-group-item">Interval (sec):  @Model.TrackFreq</li>
                <li class="list-group-item">Flight Duration (min):  @Model.FlightDuration</li>
            </ul>
        </div>
        <div class="col-sm-4">
            <ul class="list-group">
                <li class="list-group-item active"><h4>Table Columns</h4></li>
                <li class="list-group-item">
                    <ul style="list-style-type:none">
                        <li><b>TPN</b>      - Map Trackpoint Number</li>
                        <li><b>LOCAL TIME</b> - GPS Local Time</li>
                        <li><b>LAT</b>     - Latitude</li>
                        <li><b>LON</b>     - Longitude</li>
                        <li><b>ALTM</b>    - Altitude (meter)</li>
                        <li><b>ALTF</b>    - Altitude (foot)</li>
                        <li><b>GRSPMPH</b> - Ground Speed (mph)</li>
                        <li><b>GRSPKNT</b> - Ground Speed (knot)</li>
                        <li><b>GRSPKMH</b> - Ground Speed (km/h)</li>
                        <li><b>ARPT</b>   - Airport Code</li>
                    </ul>
                </li>
            </ul>
        </div>
      </div>
                    @{
                        var grid = new WebGrid(Model.GpsLocations, defaultSort: "FlightDate", canPage: true, rowsPerPage: 50);
                    }
                    @grid.GetHtml(tableStyle: "webgrid", headerStyle: "webgrid-header", //rowStyle: "webgrid-row-style",
                columns: grid.Columns(
                //grid.Column(columnName: "GPSLocationID", header: "GPS Location ID", style: "text-align-left"),
                grid.Column(columnName: "onSessionPointNum", header: "TPN", style: "text-align-left"),
                grid.Column(columnName: "gpsTime", header: "LOCAL TIME", style: "text-align-left"),
                grid.Column(columnName: "latitude", header: "LAT", style: "text-align-left"),
                grid.Column(columnName: "longitude", header: "LON", style: "text-align-left"),
                grid.Column(columnName: "AltitudeM", header: "ALTM", style: "text-align-left"),
                grid.Column(columnName: "AltitudeFt", header: "ALTF", style: "text-align-left"),
                //grid.Column(columnName: "accuracy", header: "Accuracy M", style: "text-align-left"),
                grid.Column(columnName: "SpeedMph", header: "GRSPMPH", style: "text-align-left"),
                grid.Column(columnName: "SpeedKnot", header: "GRSPKNT", style: "text-align-left"),
                grid.Column(columnName: "SpeedKmph", header: "GRSPKMH", style: "text-align-left"),
                //grid.Column(columnName: "direction", header: "Direction", style: "text-align-left"),
                grid.Column(columnName: "AirportCode", header: "ARPT", style: "text-align-left")
                )
                )
                </div>
            </div>
        </div>
    </div>




